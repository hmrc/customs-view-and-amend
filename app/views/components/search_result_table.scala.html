@*
 * Copyright 2023 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@* * Copyright 2022 HM Revenue & Customs * * Licensed under the Apache License,
Version 2.0 (the "License"); * you may not use this file except in compliance
with the License. * You may obtain a copy of the License at * *
http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law
or agreed to in writing, software * distributed under the License is distributed
on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
express or implied. * See the License for the specific language governing
permissions and * limitations under the License. *@ @* * Copyright 2022 HM
Revenue & Customs * * Licensed under the Apache License, Version 2.0 (the
"License"); * you may not use this file except in compliance with the License. *
You may obtain a copy of the License at * *
http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law
or agreed to in writing, software * distributed under the License is distributed
on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
express or implied. * See the License for the specific language governing
permissions and * limitations under the License. *@ @* * Copyright 2022 HM
Revenue & Customs * * Licensed under the Apache License, Version 2.0 (the
"License"); * you may not use this file except in compliance with the License. *
You may obtain a copy of the License at * *
http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law
or agreed to in writing, software * distributed under the License is distributed
on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
express or implied. * See the License for the specific language governing
permissions and * limitations under the License. *@ @this(claimListRows:
claimListRows, h1: components.h1) @(claim: Claim, query: String)(implicit
messages: Messages) @h1("claim.search.result.title")
<table class="govuk-table">
	<caption
		id="claims-caption"
		class="search-table-caption govuk-!-margin-bottom-5"
	>
		@Html(messages("claim.search.result", 1, query))
	</caption>
	<thead class="govuk-table__head">
		<tr class="govuk-table__row">
			<th>@messages("claim.list.table.heading.case")</th>
			<th>@messages("claim.list.table.heading.start")</th>
			<th>@messages("claim.list.table.heading.status")</th>
			@{ claim match { case e:ClosedClaim =>
			<th>{messages("claim.list.table.heading.removal")}</th>
			case e:PendingClaim =>
			<!--TODO: Removed the respond by date until secure messaging timestamp available-->
			case _ => Html("") } }
		</tr>
	</thead>
	<tbody class="govuk-table__body">
		<tr class="govuk-table__row">
			@{ claim match {
        case e@ClosedClaim(_, caseNumber, _, _, claimStartDate, removalDate, caseSubStatus) =>
          claimListRows(e.url, caseNumber, e.formattedStartDate(), Some(messages("case.closed")), Some(e.formattedRemovalDate()), None) 
        case e@PendingClaim(_, caseNumber, _, _, claimStartDate, newMessage) =>
          claimListRows(e.url, caseNumber, e.formattedStartDate(), None, None, None) 
        case e@InProgressClaim(_,caseNumber, _, _, claimStartDate) => 
          claimListRows(e.url, caseNumber, e.formattedStartDate(), Some(messages("case.inProgress")), None, None) 
        } }
		</tr>
	</tbody>
</table>
